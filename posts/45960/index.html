<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Ityoung">





<title>MySQL基本使用 | 谢谢你这么好看还来访问我的博客</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="谢谢你这么好看还来访问我的博客" type="application/atom+xml">
</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">首页</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">文章</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                    <a class="menu-item" href="/link">友链</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">首页</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">文章</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                    <a class="menu-item" href="/link">友链</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">展开目录</a>
        <a onclick="go_top()">返回顶部</a>
        <a onclick="go_bottom()">到达尾部</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">MySQL基本使用</h1>
            
                <div class="post-meta">
                    
                        作者: <a itemprop="author" rel="author" href="/">Ityoung</a>
                    

                    
                        <span class="post-time">
                        发布时间: <a href="#">2020-12-21&nbsp;&nbsp;23:31:18</a>
                        </span>
                    
                    
                        <span class="post-category">
                    分类:
                            
                                <a href="/categories/MySQL/">MySQL</a>
                            
                        </span>
                    
					<br/>
					<!-- 开始添加字数统计-->
					
						

<span class="post-time">
  <span class="post-meta-item-icon">
	<i class="fa fa-keyboard-o"></i>
	<span class="post-meta-item-text">  字数统计: </span>
	<!-- 安装插件npm install hexo-wordcount --save -->
	<span class="post-count" style="color: #2d96bd">6k</span>字
  </span>
</span>

<span class="post-time">
  <span class="post-meta-item-icon">
	<i class="fa fa-hourglass-half"></i>
	<span class="post-meta-item-text">  阅读时长: </span>
	<span class="post-count" style="color: #2d96bd">24</span>分
  </span>
</span>

					
					<!-- 添加完成 -->
                </div>
            
			<span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> visits</span>
			
        </header>

        <div class="post-content">
            <h2 id="数据库概述及数据准备"><a href="#数据库概述及数据准备" class="headerlink" title="数据库概述及数据准备"></a>数据库概述及数据准备</h2><h3 id="SQL概述"><a href="#SQL概述" class="headerlink" title="SQL概述"></a>SQL概述</h3><p>SQL，一般发音为sequel，SQL的全称Structured Query Language)，SQL用来和数据库打交道，完成和数据库的通信，SQL是一套标准。但是每一个数据库都有自己的特性别的数据库没有,当使用这个数据库特性相关的功能,这时SQL语句可能就不是标准了.(90%以上的SQL都是通用的)</p>
<h3 id="什么是数据库"><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h3><p>数据库，通常是一个或一组文件，保存了一些符合特定规格的数据,数据库对应的英语单词是DataBase,简称:DB,数据库软件称为数据库管理系统（DBMS），全称为DataBase Management System，如：Oracle、SQL Server、MySql、Sybase、informix、DB2、interbase、PostgreSql 。</p>
<h3 id="MySql概述"><a href="#MySql概述" class="headerlink" title="MySql概述"></a>MySql概述</h3><p>MySQL最初是由“MySQL AB”公司开发的一套关系型数据库管理系统（RDBMS-Relational Database Mangerment System）。</p>
<p>MySQL不仅是最流行的开源数据库，而且是业界成长最快的数据库，每天有超过7万次的下载量，其应用范围从大型企业到专有的嵌入应用系统。</p>
<p>MySQL AB是由两个瑞典人和一个芬兰人：David Axmark、Allan Larsson和Michael “Monty” Widenius在瑞典创办的。</p>
<p>在2008年初，Sun Microsystems收购了MySQL AB公司。在2009年，Oracle收购了Sun公司，使MySQL并入Oracle的数据库产品线。1.1.表</p>
<p>表(table)是一种<strong>结构化的文件</strong>，可以用来存储特定类型的数据，如：学生信息，课程信息，都可以放到表中。另外表都有特定的名称，而且不能重复。表中具有几个概念：列、行、主键。 列叫做字段(Column),行叫做表中的记录,每一个字段都有:字段名称/字段数据类型/字段约束/字段长度</p>
<p>学生信息表</p>
<table>
<thead>
<tr>
<th>学号（主键）</th>
<th>姓名</th>
<th>性别</th>
<th>年龄</th>
</tr>
</thead>
<tbody><tr>
<td>00001</td>
<td>张三</td>
<td>男</td>
<td>20</td>
</tr>
<tr>
<td>00002</td>
<td>李四</td>
<td>女</td>
<td>20</td>
</tr>
</tbody></table>
<h3 id="SQL的语句分类"><a href="#SQL的语句分类" class="headerlink" title="SQL的语句分类"></a>SQL的语句分类</h3><p>数据查询语言(DQL-Data Query Language) </p>
<blockquote>
<p>代表关键字:select </p>
</blockquote>
<p>数据操纵语言(DML-Data Manipulation Language)</p>
<blockquote>
<p>代表关键字:insert,delete,update</p>
</blockquote>
<p>数据定义语言(DDL-Data Definition Language)</p>
<blockquote>
<p>代表关键字:create ,drop,alter,</p>
</blockquote>
<p>事务控制语言(TCL-Transactional Control Language)</p>
<blockquote>
<p>代表关键字:commit ,rollback;</p>
</blockquote>
<p>数据控制语言(DCL-Data Control Language)</p>
<blockquote>
<p>代表关键字:grant,revoke.</p>
</blockquote>
<h3 id="导入演示数据"><a href="#导入演示数据" class="headerlink" title="导入演示数据"></a>导入演示数据</h3><p>使用MySQL命令行客户端来装载数据库。</p>
<ol>
<li><p>连接MySql</p>
<p>​    <img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201218165032485.png" alt="image-20201218165032485"></p>
</li>
<li><p>创建“bjpowernode”数据库</p>
<p>mysql&gt; create database bjpowernode;</p>
</li>
<li><p>选择数据库</p>
<p>mysql&gt; use bjpowernode</p>
</li>
<li><p>导入数据</p>
<p>mysql&gt;source D:\ bjpowernode.sql</p>
</li>
<li><p>删除数据库(这里不要做!)</p>
<p>mysql&gt; drop database bjpowernode;</p>
</li>
</ol>
<h3 id="表结构描述"><a href="#表结构描述" class="headerlink" title="表结构描述"></a>表结构描述</h3><p>表名称：dept</p>
<p>描述：部门信息表</p>
<table>
<thead>
<tr>
<th>英文字段名称</th>
<th>中文描述</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>DEPTNO</td>
<td>部门编号</td>
<td>INT(2)</td>
</tr>
<tr>
<td>DNAME</td>
<td>部门名称</td>
<td>VARCHAR(14)</td>
</tr>
<tr>
<td>LOC</td>
<td>位置</td>
<td>VARCHAR(13)</td>
</tr>
</tbody></table>
<p>表名称：emp</p>
<p>描述：员工信息表</p>
<table>
<thead>
<tr>
<th>英文字段名称</th>
<th>中文描述</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>EMPNO</td>
<td>员工编号</td>
<td>INT (4)</td>
</tr>
<tr>
<td>ENAME</td>
<td>员工姓名</td>
<td>VARCHAR(10)</td>
</tr>
<tr>
<td>JOB</td>
<td>工作岗位</td>
<td>VARCHAR(9)</td>
</tr>
<tr>
<td>MGR</td>
<td>上级领导</td>
<td>INT (4)</td>
</tr>
<tr>
<td>HIREDATE</td>
<td>入职日期</td>
<td>DATE</td>
</tr>
<tr>
<td>SAL</td>
<td>薪水</td>
<td>DOUBLE(7,2)</td>
</tr>
<tr>
<td>COMM</td>
<td>津贴</td>
<td>DOUBLE (7,2)</td>
</tr>
<tr>
<td>DEPTNO</td>
<td>部门编号</td>
<td>INT(2)</td>
</tr>
</tbody></table>
<p>注：DEPTNO字段是外键，DEPTNO的值来源于dept表的主键，起到了约束的作用</p>
<p>表名称：salgrade</p>
<p>描述：薪水等级信息表</p>
<table>
<thead>
<tr>
<th>英文字段名称</th>
<th>中文描述</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>GRADE</td>
<td>等级</td>
<td>INT</td>
</tr>
<tr>
<td>LOSAL</td>
<td>最低薪水</td>
<td>INT</td>
</tr>
<tr>
<td>HISAL</td>
<td>最高薪水</td>
<td>INT</td>
</tr>
</tbody></table>
<hr>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="查看msyql版本"><a href="#查看msyql版本" class="headerlink" title="查看msyql版本"></a>查看msyql版本</h3><p>MySQL程序选项具有以下两种通用形式：</p>
<p>–     长选项，由单词之前加两个减号组成</p>
<p>–     短选项，由单个字母之前加一个减号组成</p>
<p>C:\Users\Administrator&gt;<code>mysql --version</code></p>
<p>mysql Ver 14.14 Distrib 5.5.36, for Win32 (x86)</p>
<p>C:\Users\Administrator&gt;<code>mysql -V</code></p>
<p>mysql Ver 14.14 Distrib 5.5.36, for Win32 (x86)</p>
<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><ol>
<li><p>create database 数据库名称;</p>
<p><code>create database bjpowernode;</code></p>
</li>
<li><p>use 数据库名称</p>
<p><code>use bjpowernode;</code></p>
</li>
</ol>
<p>在数据库中建立表，因此创建表的时候必须要先选择数据库。</p>
<h3 id="查询当前使用的数据库"><a href="#查询当前使用的数据库" class="headerlink" title="查询当前使用的数据库"></a>查询当前使用的数据库</h3><p>select database();</p>
<p>查询数据库版本也可以使用</p>
<p>select  version();</p>
<h3 id="终止一条语句"><a href="#终止一条语句" class="headerlink" title="终止一条语句"></a>终止一条语句</h3><p>如果想要终止一条正在编写的语句，可键入\c。</p>
<h3 id="退出mysql"><a href="#退出mysql" class="headerlink" title="退出mysql"></a>退出mysql</h3><p>可使用\q、QUIT或EXIT：</p>
<p>如：mysql&gt; \q (ctrl+c)</p>
<hr>
<h2 id="查看“演示数据”的表结构"><a href="#查看“演示数据”的表结构" class="headerlink" title="查看“演示数据”的表结构"></a>查看“演示数据”的表结构</h2><h3 id="查看和指定现有的数据库"><a href="#查看和指定现有的数据库" class="headerlink" title="查看和指定现有的数据库"></a>查看和指定现有的数据库</h3><p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201218165125116.png" alt="image-20201218165125116"></p>
<h3 id="指定当前缺省数据库"><a href="#指定当前缺省数据库" class="headerlink" title="指定当前缺省数据库"></a>指定当前缺省数据库</h3><p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201218165152303.png" alt="image-20201218165152303"></p>
<h3 id="查看当前使用的库"><a href="#查看当前使用的库" class="headerlink" title="查看当前使用的库"></a>查看当前使用的库</h3><p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201218165204244.png" alt="image-20201218165204244"></p>
<h3 id="查看当前库中的表"><a href="#查看当前库中的表" class="headerlink" title="查看当前库中的表"></a>查看当前库中的表</h3><p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201218165216532.png" alt="image-20201218165216532"></p>
<h3 id="查看其他库中的表"><a href="#查看其他库中的表" class="headerlink" title="查看其他库中的表"></a>查看其他库中的表</h3><p><code>show tables from &lt;database name&gt;;</code></p>
<p>如查看exam库中的表</p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201231163851918.png" alt="image-20201231163851918"></p>
<h3 id="查看表的结构"><a href="#查看表的结构" class="headerlink" title="查看表的结构"></a>查看表的结构</h3><p><code>desc &lt;table name&gt;;</code></p>
<p>如：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201218165240022.png" alt="image-20201218165240022"></p>
<h3 id="查看表的创建语句"><a href="#查看表的创建语句" class="headerlink" title="查看表的创建语句"></a>查看表的创建语句</h3><p><code>show create table &lt;table name&gt;;</code></p>
<p>如：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165235.png" alt="image-20201218165249789"> </p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165233.png" alt="image-20201218165307791">                    </p>
<h2 id="简单的查询"><a href="#简单的查询" class="headerlink" title="简单的查询"></a>简单的查询</h2><h3 id="查询一个字段"><a href="#查询一个字段" class="headerlink" title="查询一个字段"></a>查询一个字段</h3><blockquote>
<p>查询员工姓名</p>
</blockquote>
<p><code>select ename from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165230.png" alt="image-20201218165318161"></p>
<p>Select语句后面跟的是字段名称，select是关键字，select和字段名称之间采用空格隔开，from表示将要查询的表，它和字段之间采用空格隔开</p>
<h3 id="查询多个字段"><a href="#查询多个字段" class="headerlink" title="查询多个字段"></a>查询多个字段</h3><blockquote>
<p>查询员工的编号和姓名</p>
</blockquote>
<p>  <code>select empno, ename from emp;</code></p>
<p>  <img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165226.png" alt="image-20201218165326501">  </p>
<p>查询多个字段，select中的字段采用逗号间隔即可，最后一个字段，也就是在from前面的字段不能使用逗号了。</p>
<h3 id="查询全部字段"><a href="#查询全部字段" class="headerlink" title="查询全部字段"></a>查询全部字段</h3><p>可以将所有的字段放到select语句的后面，这种方案不方便，但是比较清楚，我们可以采用如下便捷的方式查询全部字段</p>
<p><code> select * from emp; </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165036.png" alt="image-20201218165334984"></p>
<p>采用<code>select * from emp</code>，虽然简单，但是*号不是很明确，建议查询全部字段将相关字段写到select语句的后面,在以后java连接数据库的时候,是需要在java程序中编写SQL语句的,这个时候编写的SQL语句不建议使用<code>select *</code> 这种形式,建议写明字段,这样可读性强.</p>
<h3 id="计算员工的年薪"><a href="#计算员工的年薪" class="headerlink" title="计算员工的年薪"></a>计算员工的年薪</h3><blockquote>
<p> 列出员工的编号，姓名和年薪</p>
</blockquote>
<p><code> select empno, ename, sal*12 from emp; </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165031.png" alt="image-20201218165355526"></p>
<p>在select语句中可以使用运算符，以上存在一些问题，年薪的字段名称不太明确</p>
<h3 id="将查询出来的字段显示为中文"><a href="#将查询出来的字段显示为中文" class="headerlink" title="将查询出来的字段显示为中文"></a>将查询出来的字段显示为中文</h3><p> <code>select empno as ‘员工编号’, ename as ‘员工姓名’, sal*12 as ‘年薪’ from emp;  </code></p>
<p>注意:字符串必须添加单引号 | 双引号  </p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165029.png" alt="image-20201218165400868"></p>
<p>可以采用as关键字重命名表字段，其实as也可以省略，如：</p>
<p><code>select empno &quot;员工编号&quot;, ename &quot;员工姓名&quot;, sal*12 &quot;年薪&quot; from emp; </code> </p>
<h2 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h2><p>条件查询需要用到where语句，where必须放到from语句表的后面</p>
<p>支持如下运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>等于</td>
</tr>
<tr>
<td>&lt;&gt;或!=</td>
<td>不等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于等于</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于等于</td>
</tr>
<tr>
<td>between … and ….</td>
<td>两个值之间,<strong>等同于 &gt;= and &lt;=</strong></td>
</tr>
<tr>
<td>is null</td>
<td>为null（is not null 不为空）</td>
</tr>
<tr>
<td><strong>and</strong></td>
<td>并且</td>
</tr>
<tr>
<td><strong>or</strong></td>
<td>或者</td>
</tr>
<tr>
<td>in</td>
<td>包含，相当于多个or（not in不在这个范围中）</td>
</tr>
<tr>
<td>not</td>
<td>not可以取非，主要用在is 或in中</td>
</tr>
<tr>
<td>like</td>
<td>like称为模糊查询，支持%或下划线匹配  %匹配任意个字符  下划线，一个下划线只匹配一个字符</td>
</tr>
</tbody></table>
<h3 id="等号操作符"><a href="#等号操作符" class="headerlink" title="等号操作符"></a>等号操作符</h3><blockquote>
<p>查询薪水为5000的员工</p>
</blockquote>
<p><code>select empno, ename, sal from  emp where sal=5000;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165024.png"></p>
<blockquote>
<p>查询job为MANAGER的员工</p>
</blockquote>
<p><code>select empno, ename from emp where job=manager;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165022.png" alt="image-20201218165419292"></p>
<p>以上查询出现错误，因为job为字符串，所以出现了以上错误</p>
<p><code>select empno, ename from emp where  job=&quot;manager&quot;; </code> </p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165018.png" alt="image-20201218165510070"></p>
<p>`select empno, ename from emp where  job=’manager’;</p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164852.png" alt="image-20201218165513311"></p>
<p>也可以使用单引号</p>
<p><code>select empno, ename from emp where  job=&#39;MANAGER&#39;;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164849.png" alt="image-20201218165539820"></p>
<p><code>以上输出正确，Mysql默认情况下大小写是不敏感的。</code></p>
<p>注意：</p>
<p>MySQL在windows下是不区分大小写的，将script文件导入MySQL后表名也会自动转化为小写，结果再想要将数据库导出放到linux服务器中使用时就出错了。因为在linux下表名区分大小写而找不到表，查了很多都是说在linux下更改MySQL的设置使其也不区分大小写，但是有没有办法反过来让windows 下大小写敏感呢。其实方法是一样的，相应的更改windows中MySQL的设置就行了。</p>
<p>​    具体操作：</p>
<p>​    在MySQL的配置文件my.ini中增加一行：</p>
<p>​    lower_case_table_names = 0</p>
<p>​    其中 0：区分大小写，1：不区分大小写</p>
<p>​    MySQL在Linux下数据库名、表名、列名、别名大小写规则是这样的：</p>
<ol>
<li><p>数据库名与表名是严格区分大小写的；</p>
</li>
<li><p>表的别名是严格区分大小写的；</p>
</li>
<li><p>列名与列的别名在所有的情况下均是忽略大小写的；</p>
</li>
<li><p>变量名也是严格区分大小写的；  MySQL在Windows下都不区分大小写</p>
</li>
</ol>
<h3 id="lt-gt-操作符"><a href="#lt-gt-操作符" class="headerlink" title="&lt;&gt;操作符"></a>&lt;&gt;操作符</h3><blockquote>
<p>查询薪水不等于5000的员工</p>
</blockquote>
<p><code>select empno, ename, sal from emp where  sal &lt;&gt; 5000;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164846.png" alt="image-20201218165605090"></p>
<p>以下写法等同于以上写法，建议使用第一种写法</p>
<p><code>select empno, ename, sal from emp where  sal != 5000;  </code></p>
<p>数值也可以采用单引号引起来，如以下语句是正确的(不建议这么写)：</p>
<p><code>select empno, ename, sal from emp where  sal &lt;&gt; &#39;5000&#39;;  </code></p>
<blockquote>
<p>查询工作岗位不等于MANAGER的员工</p>
</blockquote>
<p><code>select empno, ename from emp where job  &lt;&gt; &#39;MANAGER&#39;;  </code></p>
<h3 id="between-…-and-…操作符"><a href="#between-…-and-…操作符" class="headerlink" title="between … and …操作符"></a>between … and …操作符</h3><blockquote>
<p>查询薪水为1600到3000的员工(第一种方式，采用&gt;=和&lt;=)</p>
</blockquote>
<p><code>select empno, ename, sal from emp where  sal &gt;= 1600 and sal &lt;= 3000;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164838.png" alt="image-20201218165625915"></p>
<blockquote>
<p>查询薪水为1600到3000的员工(第一种方式，采用between … and …)</p>
</blockquote>
<p><code>select empno, ename, sal from emp where  sal between 1600 and 3000;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164809.png"></p>
<p>关于between … and …，它是包含最大值和最小值的</p>
<h3 id="is-null"><a href="#is-null" class="headerlink" title="is null"></a>is null</h3><blockquote>
<p>Null为空，但不是空串，为null可以设置这个字段不填值，如果查询为null的字段，采用is null</p>
</blockquote>
<blockquote>
<p>查询津贴为空的员工</p>
</blockquote>
<p><code>select * from  emp where comm=null;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164815.png" alt="image-20201218165737664"></p>
<p><code>以上也无法查询出符合条件的数据，因为null类型比较特殊，必须使用 is来比较</code></p>
<p><code>select * from emp where comm is null;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231164819.png" alt="image-20201218165743049"></p>
<p>以上查询正确</p>
<h3 id="and"><a href="#and" class="headerlink" title="and"></a>and</h3><p><strong>and表示并且的含义，表示所有的条件必须满足</strong></p>
<blockquote>
<p>工作岗位为MANAGER,薪水大于2500的员工</p>
</blockquote>
<p><code>select * from emp where job=&#39;MANAGER&#39; and  sal &gt; 2500;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165301.png" alt="image-20201218165851964"></p>
<h3 id="or"><a href="#or" class="headerlink" title="or"></a>or</h3><p><strong>or，只要满足条件即可,相当于包含</strong></p>
<blockquote>
<p>查询出job为manager或者job为salesman的员工</p>
</blockquote>
<p><code>select * from emp where job=&#39;MANAGER&#39; or  job=&#39;SALESMAN&#39;; </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165306.png"></p>
<h3 id="表达式的优先级"><a href="#表达式的优先级" class="headerlink" title="表达式的优先级"></a>表达式的优先级</h3><blockquote>
<p>查询薪水大于1800，并且部门代码为20或30的员工（错误的写法）</p>
</blockquote>
<p><code>select * from emp where sal  &gt; 1800 and deptno = 20 or deptno = 30;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165310.png" alt="image-20201218170014126"></p>
<p>以上输出不是预期结果，薪水小于1800的数据也被查询上来了，原因是表达式的优先级导致的，首先过滤sal &gt; 1800 and deptno = 20，然后再将deptno = 30员工合并过来，所以是不对的</p>
<blockquote>
<p>查询薪水大于1800，并且部门代码为20或30的（正确的写法）</p>
</blockquote>
<p><code>select * from emp where sal &gt; 1800 and  (deptno = 20 or deptno = 30); </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165314.png" alt="image-20201218170019487"></p>
<p><code>关于运算符的问题：不用记，没有把握尽量采用括号</code></p>
<h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><p><strong>in表示包含的意思，完全可以采用or来表示，采用in会更简洁一些</strong></p>
<blockquote>
<p>查询出job为manager或者job为salesman的员工</p>
</blockquote>
<p><code>select * from emp where job in  (&#39;manager&#39;,&#39;salesman&#39;);  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165319.png" alt="image-20201218170128078"></p>
<blockquote>
<p>查询出薪水包含1600和薪水包含3000的员工</p>
</blockquote>
<p><code>select * from emp where sal in(1600,  3000);  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165326.png" alt="image-20201218170133180"></p>
<h3 id="not"><a href="#not" class="headerlink" title="not"></a>not</h3><blockquote>
<p>查询出薪水不包含1600和薪水不包含3000的员工（第一种写法）</p>
</blockquote>
<p><code>select * from emp where sal &lt;&gt; 1600  and sal &lt;&gt; 3000;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165329.png" alt="image-20201218170155208"></p>
<blockquote>
<p>查询出薪水不包含1600和薪水不包含3000的员工（第二种写法</p>
</blockquote>
<p><code>select * from emp where not (sal = 1600  or sal = 3000);  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165331.png" alt="image-20201218170211137"></p>
<blockquote>
<p>查询出薪水不包含1600和薪水不包含3000的员工（第三种写法）</p>
</blockquote>
<p><code>select * from emp where sal not in (1600,  3000); </code> </p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165338.png" alt="image-20201218170226974"></p>
<blockquote>
<p>查询出津贴不为null的所有员工</p>
</blockquote>
<p>  <code>select * from emp where comm is not null;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165448.png" alt="image-20201231165448033"></p>
<h3 id="like"><a href="#like" class="headerlink" title="like"></a>like</h3><p><strong>Like可以实现模糊查询，like支持%和下划线匹配</strong></p>
<blockquote>
<p>查询姓名以M开头所有的员工</p>
</blockquote>
<p><code>select * from emp where ename like &#39;M%&#39;;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165347.png" alt="image-20201218170259947"></p>
<blockquote>
<p>查询姓名以N结尾的所有的员工</p>
</blockquote>
<p><code>select * from emp where ename like &#39;%N&#39;;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165456.png" alt="image-20201218170303562"></p>
<blockquote>
<p>查询姓名中包含O的所有的员工</p>
</blockquote>
<p><code>select * from emp where ename like &#39;%O%&#39;;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165458.png" alt="image-20201218170316180"></p>
<blockquote>
<p>查询姓名中第二个字符为A的所有员工</p>
</blockquote>
<p><code>select * from emp where ename like &#39;_A%&#39;;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165501.png" alt="image-20201218170330393"></p>
<blockquote>
<p>Like中%和下划线的差别？</p>
</blockquote>
<p>%匹配任意字符出现的个数</p>
<blockquote>
<p>下划线只匹配一个字符</p>
</blockquote>
<p>Like 中的表达式必须放到单引号中|双引号中，以下写法是错误的：</p>
<p><del><code>select * from emp where  ename like _A%  </code></del></p>
<h2 id="排序数据"><a href="#排序数据" class="headerlink" title="排序数据"></a>排序数据</h2><h3 id="单一字段排序"><a href="#单一字段排序" class="headerlink" title="单一字段排序"></a>单一字段排序</h3><p>排序采用order by子句，order by后面跟上排序字段，排序字段可以放多个，多个采用逗号间隔，<code>order by默认采用升序</code>，如果存在where子句那么order by必须放到where语句的后面</p>
<blockquote>
<p> 按照薪水由小到大排序(系统默认由小到大)</p>
</blockquote>
<p><code>select * from emp order by sal;  </code></p>
<p><img src="C:\Users\JiuYueSheng\AppData\Roaming\Typora\typora-user-images\image-20201218170932850.png" alt="image-20201218170932850"></p>
<blockquote>
<p>取得job为MANAGER的员工，按照薪水由小到大排序(系统默认由小到大)</p>
</blockquote>
<p><code>select * from emp where job=&#39;MANAGER&#39;  order by sal;  </code></p>
<p><img src="C:\Users\JiuYueSheng\AppData\Roaming\Typora\typora-user-images\image-20201218170949610.png" alt="image-20201218170949610"></p>
<p>如果包含where语句order by必须放到where后面，如果没有where语句order by放到表的后面</p>
<p>以下写法是错误的：</p>
<p><del><code>select * from emp order  by sal where job=&#39;MANAGER&#39;;  </code></del></p>
<blockquote>
<p>按照多个字段排序，如：首先按照job排序，再按照sal排序</p>
</blockquote>
<p><code>select * from emp order by job,sal;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165510.png" alt="image-20201218171022163"></p>
<h3 id="手动指定排序顺序"><a href="#手动指定排序顺序" class="headerlink" title="手动指定排序顺序"></a>手动指定排序顺序</h3><blockquote>
<p>手动指定按照薪水由小到大排序</p>
</blockquote>
<p><code>select * from emp order by sal asc;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165513.png" alt="image-20201218171050416"></p>
<blockquote>
<p>手动指定按照薪水由大到小排序</p>
</blockquote>
<p><code>select * from emp order by sal desc;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165520.png" alt="image-20201218171054348"></p>
<h3 id="多个字段排序"><a href="#多个字段排序" class="headerlink" title="多个字段排序"></a>多个字段排序</h3><blockquote>
<p>按照job和薪水倒序</p>
</blockquote>
<p><code>select * from emp order by job desc, sal desc;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165528.png" alt="image-20201218171138249"></p>
<p>如果采用多个字段排序，如果根据第一个字段排序重复了，会根据第二个字段排序</p>
<h3 id="使用字段的位置来排序"><a href="#使用字段的位置来排序" class="headerlink" title="使用字段的位置来排序"></a>使用字段的位置来排序</h3><blockquote>
<p>按照薪水升序</p>
</blockquote>
<p><code>select * from emp order by 6;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165531.png" alt="image-20201218171146328"></p>
<p><code>不建议使用此种方式，采用数字含义不明确，程序不健壮</code></p>
<h2 id="分组函数-聚合函数-多行处理函数"><a href="#分组函数-聚合函数-多行处理函数" class="headerlink" title="分组函数/聚合函数/多行处理函数"></a>分组函数/聚合函数/多行处理函数</h2><table>
<thead>
<tr>
<th>count</th>
<th>取得记录数</th>
</tr>
</thead>
<tbody><tr>
<td>sum</td>
<td>求和</td>
</tr>
<tr>
<td>avg</td>
<td>取平均</td>
</tr>
<tr>
<td>max</td>
<td>取最大的数</td>
</tr>
<tr>
<td>min</td>
<td>取最小的数</td>
</tr>
</tbody></table>
<p><strong>注意：分组函数自动忽略空值，不需要手动的加where</strong> <strong>条件排除空值。</strong></p>
<p><strong>select count(*) from emp where xxx;</strong>            <strong>符合条件的所有记录总数。</strong></p>
<p><strong>select count(comm) from emp;     comm</strong> <strong>这个字段中不为空的元素总数。</strong></p>
<p><code>注意：分组函数不能直接使用在where关键字后面。</code></p>
<p>mysql&gt; <code>select ename,sal from emp where sal &gt; avg(sal);</code></p>
<p>ERROR 1111 (HY000): Invalid use of group function</p>
<h3 id="count"><a href="#count" class="headerlink" title="count"></a>count</h3><blockquote>
<p>取得所有的员工数</p>
</blockquote>
<p><code>select count(*) from emp; </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165539.png" alt="image-20201218173940299"></p>
<p>Count(*)表示取得所有记录，忽略null，为null的值也会取得</p>
<blockquote>
<p>取得津贴不为null员工数</p>
</blockquote>
<p><code>select count(comm) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165541.png"></p>
<p><code>采用count(字段名称)，不会取得为null的记录</code></p>
<blockquote>
<p>取得工作岗位的个数</p>
</blockquote>
<p><code>select count(distinct  job) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165544.png" alt="image-20201218173949903"></p>
<h3 id="sum"><a href="#sum" class="headerlink" title="sum"></a>sum</h3><p><strong>Sum可以取得某一个列的和，null会被忽略</strong></p>
<blockquote>
<p>取得薪水的合计</p>
</blockquote>
<p><code>select sum(sal) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165551.png" alt="image-20201218174438539"></p>
<blockquote>
<p>取得津贴的合计</p>
</blockquote>
<p><code>select sum(comm) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165556.png" alt="img"></p>
<p>null会被忽略</p>
<blockquote>
<p>取得薪水的合计（sal+comm）</p>
</blockquote>
<p><code>select sum(sal+comm) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165600.png" alt="image-20201218174445799"></p>
<p>从以上结果来看，不正确，原因在于comm字段有null值，所以无法计算，sum会忽略掉，正确的做法是将comm字段转换成0</p>
<p><code>select sum(sal+IFNULL(comm, 0)) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165604.png" alt="image-20201218174449585"></p>
<h3 id="avg"><a href="#avg" class="headerlink" title="avg"></a>avg</h3><p><strong>取得某一列的平均值</strong></p>
<blockquote>
<p>取得平均薪水</p>
</blockquote>
<p><code>select avg(sal) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165612.png" alt="image-20201218174659078"></p>
<h3 id="max"><a href="#max" class="headerlink" title="max"></a>max</h3><p><strong>取得某个一列的最大值</strong></p>
<blockquote>
<p>取得最高薪水</p>
</blockquote>
<p><code>select max(sal) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165616.png" alt="image-20201218174703186"></p>
<blockquote>
<p>取得最晚入职得员工</p>
</blockquote>
<p><code>select max(str_to_date (hiredate, &#39;%Y-%m-%d&#39;))  from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165620.png"></p>
<h3 id="min"><a href="#min" class="headerlink" title="min"></a>min</h3><p><strong>取得某个一列的最小值</strong></p>
<blockquote>
<p>取得最低薪水</p>
</blockquote>
<p><code>select min(sal) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165625.png" alt="image-20201218174712015"></p>
<blockquote>
<p>取得最早入职得员工（可以不使用str_to_date转换）</p>
</blockquote>
<p><code>select min(str_to_date(hiredate, &#39;%Y-%m-%d&#39;))  from emp; </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165630.png" alt="image-20201218174715995"></p>
<h3 id="组合聚合函数"><a href="#组合聚合函数" class="headerlink" title="组合聚合函数"></a>组合聚合函数</h3><p>可以将这些聚合函数都放到select中一起使用</p>
<p><code>select  count(*),sum(sal),avg(sal),max(sal),min(sal) from emp;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165634.png" alt="image-20201218174731029"></p>
<h2 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h2><p>分组查询主要涉及到两个子句，分别是：group by和having</p>
<h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><blockquote>
<p>取得每个工作岗位的工资合计，要求显示岗位名称和工资合计</p>
</blockquote>
<p><code>select job, sum(sal) from emp group by  job;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165637.png" alt="image-20201218175317230"></p>
<p><code>如果使用了order by，order by必须放到group by后面</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165639.png" alt="image-20201218175322585"></p>
<blockquote>
<p>按照工作岗位和部门编码分组，取得的工资合计</p>
</blockquote>
<p><strong>原始数据</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165643.png" alt="image-20201218175326673"></p>
<p> <strong>分组语句</strong></p>
<p><code>select job,deptno,sum(sal) from emp group  by job,deptno;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165646.png" alt="image-20201218175353995"></p>
<p>mysql&gt; <code>select empno,deptno,avg(sal) from emp group by deptno;</code></p>
<p>以上SQL语句在Oracle数据库中无法执行，执行报错。</p>
<p>以上SQL语句在Mysql数据库中可以执行，但是执行结果矛盾。</p>
<p>在SQL语句中若有group by 语句，那么在select语句后面只能跟<strong>分组函数</strong> + <strong>参与分组的字段</strong>。</p>
<h3 id="having"><a href="#having" class="headerlink" title="having"></a>having</h3><p><strong>如果想对分组数据再进行过滤需要使用having子句</strong></p>
<blockquote>
<p>取得每个岗位的平均工资大于2000</p>
</blockquote>
<p><code>select job, avg(sal) from emp group by  job having avg(sal) &gt;2000;</code>  </p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165651.png"></p>
<p>分组函数的执行顺序：</p>
<ul>
<li>根据条件查询数据</li>
<li>分组</li>
<li>采用having过滤，取得正确的数据</li>
</ul>
<h3 id="select语句总结"><a href="#select语句总结" class="headerlink" title="select语句总结"></a>select语句总结</h3><p>一个完整的select语句格式如下</p>
<p>select 字段  from 表名  where …  group by … having …(就是为了过滤分组后的数据而存在的—不可以单独的出现)  order by …</p>
<p>以上语句的执行顺序</p>
<ol>
<li>首先执行where语句过滤原始数据</li>
<li>执行group by进行分组</li>
<li>执行having对分组数据进行操作</li>
<li>执行select选出数据</li>
<li>执行order by排序</li>
</ol>
<p><code>原则：能在where中过滤的数据，尽量在where中过滤，效率较高。having的过滤是专门对分组之后的数据进行过滤的。</code></p>
<h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><h3 id="SQL92语法"><a href="#SQL92语法" class="headerlink" title="SQL92语法"></a>SQL92语法</h3><p><strong>连接查询：也可以叫跨表查询，需要关联多个表进行查询</strong></p>
<blockquote>
<p>显示每个员工信息，并显示所属的部门名称</p>
</blockquote>
<p><code> select ename, dname from emp, dept; </code></p>
<p>以上输出，不正确，输出了56条数据，其实就是两个表记录的成绩，这种情况我们称为：“笛卡儿乘积”，出现错误的原因是：没有指定连接条件</p>
<p>指定连接条件</p>
<p><code>select emp.ename, dept.dname from emp,  dept where emp.deptno=dept.deptno;  </code></p>
<p>也可以使用别名</p>
<p><code>select e.ename, d.dname from emp e, dept  d where e.deptno=d.deptno;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165655.png" alt="image-20201218234415319"></p>
<p>以上结果输出正确，因为加入了正确的连接条件</p>
<p>以上查询也称为 “内连接”，只查询相等的数据（连接条件相等的数据）</p>
<blockquote>
<p>取得员工和所属的领导的姓名</p>
</blockquote>
<p><code> select e.ename, m.ename from emp e, emp m  where e.mgr=m.empno; </code></p>
<p>以上称为“自连接”，只有一张表连接，具体的查询方法，把一张表看作两张表即可，如以上示例：第一个表emp e代码了员工表，emp m代表了领导表，相当于员工表和部门表一样</p>
<h3 id="SQL99语法"><a href="#SQL99语法" class="headerlink" title="SQL99语法"></a>SQL99语法</h3><blockquote>
<p>(内连接)显示薪水大于2000的员工信息，并显示所属的部门名称</p>
</blockquote>
<p>采用SQL92语法：  </p>
<p><code>select e.ename, e.sal, d.dname from emp  e, dept d where e.deptno=d.deptno and   e.sal &gt; 2000;  </code></p>
<p>采用SQL99语法：  </p>
<p><code>select e.ename, e.sal, d.dname from emp e  join dept d on e.deptno=d.deptno where e.sal&gt;2000; </code> </p>
<p>或  </p>
<p><code>select e.ename, e.sal, d.dname from emp e  inner join dept d on e.deptno=d.deptno where  e.sal&gt;2000;</code></p>
<p>  在实际中一般不加inner关键字  </p>
<p><code>Sql92语法和sql99语法的区别：99语法可以做到表的连接和查询条件分离，特别是多个表进行连接的时候，会比sql92更清晰</code></p>
<blockquote>
<p>(外连接）显示员工信息，并显示所属的部门名称，如果某一个部门没有员工，那么该部门也必须显示出来</p>
</blockquote>
<p> 右连接：  </p>
<p><code>select e.ename, e.sal, d.dname from emp e  right join dept d on e.deptno=d.deptno; </code></p>
<p> 左连接：  </p>
<p><code>select e.ename, e.sal, d.dname from dept  d left join emp e on e.deptno=d.deptno;</code></p>
<p> 以上两个查询效果相同  </p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165659.png" alt="image-20201218234405790"></p>
<p>连接分类：</p>
<p>内链接</p>
<p>* 表1 inner join 表2 on 关联条件</p>
<p>* 做连接查询的时候一定要写上关联条件</p>
<p>* inner 可以省略</p>
<p>外连接</p>
<ol>
<li><p>左外连接</p>
<ul>
<li><p>表1 left outer join 表2 on 关联条件</p>
</li>
<li><p>做连接查询的时候一定要写上关联条件</p>
</li>
<li><p>outer 可以省略</p>
</li>
</ul>
</li>
<li><p>右外连接</p>
<ul>
<li>表1 right outer join 表2 on 关联条件</li>
<li>做连接查询的时候一定要写上关联条件</li>
<li>outer 可以省略</li>
</ul>
</li>
</ol>
<p>*左外连接（左连接）和右外连接（右连接）的区别：</p>
<p>*左连接以左面的表为准和右边的表比较，和左表相等的不相等都会显示出来，右表符合条件的显示,不符合条件的不显示</p>
<p>*右连接恰恰相反，以上左连接和右连接也可以加入outer关键字，但一般不建议这种写法，如：</p>
<p><code>select e.ename, e.sal, d.dname from emp e  right outer join dept d on e.deptno=d.deptno; </code></p>
<p><code>select e.ename, e.sal, d.dname from dept  d left outer join emp e on e.deptno=d.deptno;  </code></p>
<p>左连接能完成的功能右连接一定可以完成</p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165704.png" alt="image-20201218234357234"></p>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p><strong>子查询就是嵌套的select语句，可以理解为子查询是一张表</strong></p>
<h3 id="在where语句中使用子查询，也就是在where语句中加入select语句"><a href="#在where语句中使用子查询，也就是在where语句中加入select语句" class="headerlink" title="在where语句中使用子查询，也就是在where语句中加入select语句"></a>在where语句中使用子查询，也就是在where语句中加入select语句</h3><blockquote>
<p>查询员工信息，查询哪些人是管理者，要求显示出其员工编号和员工姓名</p>
</blockquote>
<p>实现思路：</p>
<ol>
<li><p>首先取得管理者的编号，去除重复的</p>
<p><code>select distinct mgr from emp where mgr is  not null;</code>     distinct 去除重复行  </p>
</li>
<li><p>查询员工编号包含管理者编号的</p>
<p><code>select empno, ename from emp where empno  in(select mgr from emp where mgr is not null);  </code></p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165708.png" alt="image-20201219001553937"></p>
<blockquote>
<p>查询哪些人的薪水高于员工的平均薪水，需要显示员工编号，员工姓名，薪水</p>
</blockquote>
<p>实现思路</p>
<ol>
<li><p>取得平均薪水</p>
<p><code>select avg(sal) from emp;  </code></p>
</li>
<li><p>取得大于平均薪水的员工</p>
<p><code>select empno, ename, sal from emp where  sal &gt; (select avg(sal) from emp); </code></p>
</li>
</ol>
<p>​     <img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165713.png" alt="image-20201219001558957"></p>
<h3 id="在from语句中使用子查询，可以将该子查询看做一张表"><a href="#在from语句中使用子查询，可以将该子查询看做一张表" class="headerlink" title="在from语句中使用子查询，可以将该子查询看做一张表"></a>在from语句中使用子查询，可以将该子查询看做一张表</h3><blockquote>
<p>查询员工信息，查询哪些人是管理者，要求显示出其员工编号和员工姓名</p>
</blockquote>
<ol>
<li><p>首先取得管理者的编号，去除重复的</p>
<p><code>select distinct mgr from emp where mgr is  not null;  </code></p>
</li>
<li><p>将以上查询作为一张表，放到from语句的后面</p>
<p>使用92语法：  </p>
<p><code>select e.empno, e.ename from emp e,  </code></p>
<p><code>(select distinct mgr from emp where mgr is not null) m where e.empno=m.mgr; </code></p>
<p>使用99语法：  </p>
</li>
</ol>
<p><code>select e.empno, e.ename from emp e join  (select distinct mgr from emp where mgr is not null) m on e.empno=m.mgr;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165720.png" alt="image-20201219001605486"></p>
<blockquote>
<p>查询各个部门的平均薪水所属等级，需要显示部门编号，平均薪水，等级编号</p>
</blockquote>
<p>实现思路</p>
<p>1、首先取得各个部门的平均薪水</p>
<p>  <code>select deptno, avg(sal) avg_sal from emp group by deptno;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165754.png" alt="image-20201219001609156"></p>
<p>2、将部门的平均薪水作为一张表与薪水等级表建立连接，取得等级</p>
<p><code>select deptno,avg(sal) avg_sal from emp  group by deptno; </code></p>
<p><code>select * from salgrade; </code></p>
<p><code> select a.deptno,a.avg_sal,g.grade from  (select deptno,avg(sal) avg_sal from emp group by deptno ) a join salgrade g  on a.avg_sal between g.losal and hisal; </code>                                    <img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165725.png" alt="image-20201219001727120"></p>
<h3 id="在select语句中使用子查询"><a href="#在select语句中使用子查询" class="headerlink" title="在select语句中使用子查询"></a>在select语句中使用子查询</h3><blockquote>
<p>查询员工信息，并显示出员工所属的部门名称</p>
</blockquote>
<p>第一种做法，将员工表和部门表连接</p>
<p><code>select e.ename, d.dname from emp e, dept  d where e.deptno=d.deptno; </code></p>
<p>第二种做法，在select语句中再次嵌套select语句完成部分名称的查询</p>
<p><code>select e.ename, (select d.dname from dept  d where e.deptno=d.deptno) as dname from emp e;  </code></p>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165732.png" alt="image-20201219002430507"></p>
<h2 id="union"><a href="#union" class="headerlink" title="union"></a>union</h2><h3 id="union可以合并集合（相加）"><a href="#union可以合并集合（相加）" class="headerlink" title="union可以合并集合（相加）"></a>union可以合并集合（相加）</h3><ol>
<li><p>查询job包含MANAGER和包含SALESMAN的员工</p>
<p><code>select * from emp where job in(&#39;MANAGER&#39;,  &#39;SALESMAN&#39;);  </code></p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/20201231165738.png" alt="image-20201219002609549"></p>
<ol start="2">
<li><p>采用union来合并</p>
<p><code>select * from emp where job=&#39;MANAGER&#39;  union  select * from emp where job=&#39;SALESMAN&#39;  </code></p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/ityoung09/image@main/image-20201219002615091.png" alt="image-20201219002615091"></p>
<p><code>合并结果集的时候，需要查询字段对应个数相同。*在**Oracle**中更严格，不但要求个数相同，而且还要求类型对应相同*。</code></p>
<h2 id="limit-的使用"><a href="#limit-的使用" class="headerlink" title="limit 的使用"></a>limit 的使用</h2><p>MySQL提供了<code>limit</code> ，主要用于提取前几条或者中间某几行数据</p>
<p><code>select * from table limit m,n</code>  </p>
<p>其中m是指记录开始的index，从0开始,表示第一条记录<br>n是指从第m+1条开始，取n条。<br><code>select * from tablename limit 2,4</code><br>即取出第3条至第6条，4条记录</p>
<h3 id="取得前5条数据"><a href="#取得前5条数据" class="headerlink" title="取得前5条数据"></a>取得前5条数据</h3><p>  <code>select * from emp limit 5;</code></p>
<h3 id="从第二条开始取两条数据"><a href="#从第二条开始取两条数据" class="headerlink" title="从第二条开始取两条数据"></a>从第二条开始取两条数据</h3><p> <code>select * from emp limit 1,2;  </code></p>
<h3 id="取得薪水最高的前5名"><a href="#取得薪水最高的前5名" class="headerlink" title="取得薪水最高的前5名"></a>取得薪水最高的前5名</h3><p><code>select  * from emp e order by e.sal desc limit 5;  </code></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>作者:</span>
                        <span>Ityoung</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>本站链接:</span>
                        <span><a href="http://www.ityoung.xyz/posts/45960/">http://www.ityoung.xyz/posts/45960/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>执照:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
				<!--
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                
				-->
            </section>
        
        <section class="post-tags">
            <div>
                <span>标签:</span>
                <span class="tag">
                    
                    
                        <a href="/tags/StudyNote/"><i class="iconfont icon-githubiconfont icon-tags"></i>StudyNote</a>
                    
                        <a href="/tags/SQL/"><i class="iconfont icon-githubiconfont icon-tags"></i>SQL</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">返回</a>
                <span>· </span>
                <a href="/">首页</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/posts/46706/">Redis从零基础到入门</a>
            
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Powered by Ityoung</span>
		
			<br/>
			

	<span id="busuanzi_container_site_pv">
		总访问量:
		<span id="busuanzi_value_site_pv"></span>
	</span>


	<span id="busuanzi_container_site_uv">
		总访客量:
		<span  id="busuanzi_value_site_uv"></span>
	</span>&nbsp;

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
		
	</div>
	
</footer>

    </div>
</body>
</html>
